(this.webpackJsonpchallengealkemy=this.webpackJsonpchallengealkemy||[]).push([[0],{253:function(e,a){},255:function(e,a){},269:function(e,a,t){},270:function(e,a,t){"use strict";t.r(a);var s=t(0),n=t.n(s),c=t(35),r=t.n(c),i=t(9),l=t(69),o=t(122),d=t(25),j=t(1),m=["label"];function b(e){var a=e.label,t=Object(o.a)(e,m),s=Object(d.c)(t),n=Object(i.a)(s,2),c=n[0],r=n[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("label",{htmlFor:t.id||t.name,children:a}),Object(j.jsx)("input",Object(l.a)(Object(l.a)({className:"text-input"},c),t)),r.touched&&r.error?Object(j.jsx)("div",{className:"error",children:r.error}):null]})}var h=t(276),p=t(277),u=t(31),g=t(54),O=t.n(g);function x(e){var a=Object(s.useState)(!1),t=Object(i.a)(a,2),n=t[0],c=t[1];return Object(j.jsx)("div",{id:"login",children:Object(j.jsxs)(h.a,{id:"loginCard",children:[Object(j.jsx)(h.a.Img,{id:"loginImg",variant:"top",src:"https://p4.wallpaperbetter.com/wallpaper/36/277/215/marvel-comics-dc-comics-batman-iron-man-wallpaper-preview.jpg"}),Object(j.jsxs)(h.a.Body,{children:[Object(j.jsx)(h.a.Title,{id:"loginTitle",children:"Login"}),Object(j.jsx)(h.a.Text,{className:"my-2",id:"loginText",children:"Ingres\xe1 para crear tu equipo de superh\xe9roes"}),Object(j.jsx)(d.b,{initialValues:{email:"",password:""},validationSchema:u.a({email:u.b().email(Object(j.jsx)("span",{className:"validations ",children:"Direcci\xf3n inv\xe1lida"})).required(Object(j.jsx)("span",{className:"validations ",children:"Requerido"})),password:u.b().min(4,Object(j.jsx)("span",{className:"validations ",children:"La contrase\xf1a debe tener m\xe1s de 4 caracteres"})).required(Object(j.jsx)("span",{className:"validations ",children:"Requerido"}))}),onSubmit:function(a,t){var s=t.setSubmitting;setTimeout((function(){c(!0),console.log(JSON.stringify(a,null,2)),O.a.post("http://challenge-react.alkemy.org/",{email:a.email,password:a.password},{headers:{"Content-Type":"application/json"}}).then((function(a){console.log(a),localStorage.setItem("hero_token",a.data.token),e.setLogged(!0)})).catch((function(e){console.log(e),alert("Los datos ingresados son incorrectos.")})),s(!1)}),400)},children:Object(j.jsxs)(d.a,{id:"formContainer",children:[Object(j.jsx)("div",{className:"my-2 inputs_login",children:Object(j.jsx)(b,{label:"Email: ",name:"email",type:"text",placeholder:"challenge@alkemy.org"})}),Object(j.jsx)("div",{className:"my-2 inputs_login",children:Object(j.jsx)(b,{label:"Contrase\xf1a: ",name:"password",type:"password",placeholder:"react"})}),Object(j.jsx)(p.a,{id:"loginSubmit",variant:"primary",bg:"primary",type:"submit",disabled:n,children:n?"Loading\u2026":"Ingresar"})]})})]})]})})}var f=t(6);function v(){var e=Object(f.f)();return Object(j.jsx)(d.b,{initialValues:{heroName:""},validationSchema:u.a({heroName:u.b().max(15,Object(j.jsx)("span",{className:"form_alert",children:"Debe tener 15 caracteres o menos"})).required(Object(j.jsx)("span",{className:"form_alert",children:"Requerido"}))}),onSubmit:function(a,t){var s=t.setSubmitting;setTimeout((function(){console.log(JSON.stringify(a,null,2)),s(!1),e.push("/search/".concat(a.heroName))}),400)},children:Object(j.jsxs)(d.a,{id:"searchBox",children:[Object(j.jsx)(b,{label:"",name:"heroName",type:"text",placeholder:"Busc\xe1 tu h\xe9roe"}),Object(j.jsx)(p.a,{variant:"info",bg:"info",type:"submit",id:"searchIcon",children:Object(j.jsx)("span",{className:"material-icons xs-18",children:"search"})})]})})}var N=t(275),y=t(272),w=t(273),I=t(274),S=t(18);function _(){return Object(j.jsx)("div",{children:Object(j.jsx)(N.a,{fixed:"top",bg:"dark",variant:"dark",id:"navBar",children:Object(j.jsx)(y.a,{children:Object(j.jsxs)(w.a,{id:"rowNavbar",children:[Object(j.jsx)(I.a,{xs:12,md:3,lg:3,id:"homeIcon",children:Object(j.jsx)(S.b,{to:"/",children:Object(j.jsx)(N.a.Brand,{children:Object(j.jsx)("span",{id:"brand",className:"material-icons xs-36",children:"home"})})})}),Object(j.jsx)(I.a,{xs:10,sm:7,md:7,lg:7,children:Object(j.jsx)(v,{})}),Object(j.jsx)(I.a,{xs:2,sm:2,md:2,lg:2,children:Object(j.jsx)(p.a,{id:"logoutButton",variant:"danger",bg:"danger",size:"sm",onClick:function(){localStorage.removeItem("hero_token"),window.location.reload()},children:Object(j.jsx)("span",{className:"material-icons",children:"logout"})})})]})})})})}var k=t(278);function C(e){var a=["info","success","warning","secondary","primary","danger"],t=["intelligence","strength","speed","durability","power","combat"],s=[];for(var n in e.powerstats)s.push({name:n.charAt(0).toUpperCase()+n.slice(1),color:a[t.indexOf(n)],value:e.powerstats[n]});return Object(j.jsxs)(h.a,{className:"".concat(e.alignment),style:{width:"20rem"},children:[Object(j.jsx)(h.a.Img,{className:"img_hero",variant:"top",src:e.image}),Object(j.jsxs)(h.a.Body,{children:[Object(j.jsx)(h.a.Title,{className:"m-0",children:Object(j.jsx)("h3",{children:e.name})}),Object(j.jsx)("div",{children:Object(j.jsx)(w.a,{className:"powerstats_item",children:s.map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(I.a,{className:"my-1",lg:11,children:e.name}),Object(j.jsx)(I.a,{className:"my-1",lg:11,children:Object(j.jsx)(k.a,{variant:e.color,now:e.value})})]},e.name+e.id)}))})}),Object(j.jsxs)("div",{className:"containerHero",children:[Object(j.jsx)(S.b,{to:"/detail/".concat(e.id),children:Object(j.jsx)(p.a,{variant:"info",className:"detail_button",children:"Ver m\xe1s"})}),Object(j.jsx)(p.a,{onClick:function(){return e.deleteHero(e.id)},variant:"danger",className:"delete_button",children:Object(j.jsx)("span",{className:"material-icons xs-18",children:"delete"})})]})]})]})}function H(e){var a=e.heroes,t=e.deleteHero;return Object(j.jsx)(w.a,{children:a.map((function(e){return Object(j.jsx)(I.a,{lg:4,md:4,sm:6,className:"containerCard my-3",children:Object(j.jsx)(C,{id:e.id,name:e.name,image:e.image.url,deleteHero:t,powerstats:e.powerstats,alignment:e.biography.alignment})},e.id)}))})}var T=t(21);function B(e){var a,t=e.heroes,s=e.good,n=e.evil,c=["info","success","warning","secondary","primary","danger"],r=["intelligence","strength","speed","durability","power","combat"],i=0,l=0,o={intelligence:0,strength:0,speed:0,durability:0,power:0,combat:0},d=Object(T.a)(t);try{for(d.s();!(a=d.n()).done;){var m=a.value;o.intelligence=parseInt(o.intelligence)+parseInt(m.powerstats.intelligence),o.strength=parseInt(o.strength)+parseInt(m.powerstats.strength),o.speed=parseInt(o.speed)+parseInt(m.powerstats.speed),o.durability=parseInt(o.durability)+parseInt(m.powerstats.durability),o.power=parseInt(o.power)+parseInt(m.powerstats.power),o.combat=parseInt(o.combat)+parseInt(m.powerstats.combat),i+=parseInt(m.appearance.height[1].slice(0,-3)),l+=parseInt(m.appearance.weight[1].slice(0,-3))}}catch(u){d.e(u)}finally{d.f()}console.log(o);var b=[];for(var p in o)console.log(p),b.push({name:p.charAt(0).toUpperCase()+p.slice(1),color:c[r.indexOf(p)],value:parseInt(o[p]/t.length)});return b.sort((function(e,a){return e.value>a.value?-1:e.value<a.value?1:0})),console.log(b),Object(j.jsx)(h.a,{className:"p-2 my-3",id:"powerstatsTotal",children:Object(j.jsx)(y.a,{children:Object(j.jsxs)(w.a,{children:[Object(j.jsx)(I.a,{xs:12,children:Object(j.jsx)("p",{id:"titlePowerstats",children:"Estad\xedsticas promedio del equipo"})}),Object(j.jsx)(I.a,{className:"m-2",lg:6,md:6,sm:6,children:Object(j.jsx)(w.a,{children:b.map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(I.a,{className:"my-0",lg:12,children:e.name}),Object(j.jsx)(I.a,{className:"my-1",lg:12,children:Object(j.jsx)(k.a,{variant:e.color,now:e.value})})]},"".concat(e.id).concat(e.name))}))})}),Object(j.jsx)(I.a,{className:"my-2",lg:5,md:5,sm:5,children:Object(j.jsxs)(w.a,{children:[Object(j.jsxs)(I.a,{className:"my-1 large_font",lg:12,children:["Altura Promedio: ",Object(j.jsxs)("span",{className:"bold",children:[parseInt(i/t.length)," cm"]})]}),Object(j.jsxs)(I.a,{className:"my-1 large_font",lg:12,children:["Peso Promedio: ",Object(j.jsxs)("span",{className:"bold",children:[parseInt(l/t.length)," kg"]})]}),t.length<6?Object(j.jsxs)(I.a,{className:"my-4",lg:12,id:"textHelper",children:[" ","Todav\xeda pod\xe9s elegir ",6-t.length," superh\xe9roe",5!==t.length&&Object(j.jsx)("span",{children:"s"})," m\xe1s."]}):Object(j.jsx)(I.a,{className:"my-1",lg:12,id:"textHelper",children:"Alcanzaste el m\xe1ximo de 6 miembros."}),Object(j.jsx)(I.a,{id:"counterTitle",lg:12,children:"Posiciones ocupadas:"}),Object(j.jsxs)(I.a,{className:"my-1 count_alignment bg-success",xs:6,children:["Buenos: ",s,"/3"]}),Object(j.jsxs)(I.a,{className:"my-1 count_alignment bg-danger",xs:6,children:["Malos: ",n,"/3"]})]})})]})})})}var q=t(11),A=Object(s.createContext)([]),J=function(){return Object(s.useContext)(A)},L=JSON.parse(localStorage.getItem("heroes")),z=JSON.parse(localStorage.getItem("good")),E=JSON.parse(localStorage.getItem("evil")),P=function(e){var a=e.children,t=[null!==L?L:[],z>null?z:0,E>null?E:0],n=Object(s.useState)(t[0]),c=Object(i.a)(n,2),r=c[0],l=c[1],o=Object(s.useState)(t[1]),d=Object(i.a)(o,2),m=d[0],b=d[1],h=Object(s.useState)(t[2]),p=Object(i.a)(h,2),u=p[0],g=p[1],O=Object(s.useState)([]),x=Object(i.a)(O,2),f=x[0],v=x[1];Object(s.useEffect)((function(){localStorage.setItem("heroes",JSON.stringify(r)),localStorage.setItem("good",JSON.stringify(m)),localStorage.setItem("evil",JSON.stringify(u))}),[r,m,u]);return Object(j.jsx)(A.Provider,{value:{heroes:r,setHeroes:l,addHero:function(e){if(r.length<6){var a=f.find((function(a){return a.id===e}));console.log(a),"bad"!==a.biography.alignment?3===m?alert("No puedes agregar m\xe1s h\xe9roes buenos"):m<3&&(l([].concat(Object(q.a)(r),[a])),b(m+1)):"bad"===a.biography.alignment&&(3===u?alert("No puedes agregar m\xe1s h\xe9roes malos"):u<3&&(l([].concat(Object(q.a)(r),[a])),g(u+1)))}else alert("No se puede realizar la acci\xf3n. Se ha alcanzado el m\xe1ximo de 6 integrantes.")},deleteHero:function(e){if(r.length>0){var a=r.find((function(a){return a.id===e}));console.log(a.biography.alignment),"bad"!==a.biography.alignment?b(m-1):g(u-1),l(r.filter((function(e){return e!==a})))}},search:f,setSearch:v,good:m,evil:u},children:a})};function F(){var e=J(),a=e.heroes,t=e.deleteHero,s=e.good,n=e.evil;return console.log("Buenos:".concat(s," y Malos:").concat(n)),Object(j.jsxs)(y.a,{id:"heroListContainer",children:[Object(j.jsx)("h1",{children:"SuperTeam"}),Object(j.jsx)("p",{id:"subtitle",children:" Arm\xe1 tu equipo de superh\xe9roes y villanos"}),a.length>0?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(B,{good:s,evil:n,heroes:a}),Object(j.jsx)(H,{heroes:a,deleteHero:t})]}):Object(j.jsxs)("p",{id:"emptyTeam",children:["El equipo esta vac\xedo \ud83d\ude22 Usa el buscador del men\xfa para agregar miembros \ud83d\udc46\ud83d\udc46",Object(j.jsx)("br",{}),"El l\xedmite es de 6 (3 buenos y 3 malos)"]})]})}function D(e){return Object(j.jsx)(h.a,{style:{width:"40rem"},id:"detail",children:Object(j.jsxs)(w.a,{children:[Object(j.jsxs)(I.a,{lg:7,md:7,sm:7,children:[Object(j.jsx)(h.a.Title,{className:"m-0 p-3",children:Object(j.jsx)("h3",{children:e.name})}),Object(j.jsx)(h.a.Body,{children:Object(j.jsxs)(h.a.Text,{id:"textDetail",children:[Object(j.jsxs)("span",{className:"detail_fields",children:["Alias: ",Object(j.jsx)("span",{className:"bold",children:e.alias})]}),Object(j.jsxs)("span",{className:"detail_fields",children:["Lugar de trabajo: ",Object(j.jsx)("span",{className:"bold",children:e.workplace})]}),Object(j.jsxs)("span",{className:"detail_fields",children:["Altura: ",Object(j.jsx)("span",{className:"bold",children:e.height})]}),Object(j.jsxs)("span",{className:"detail_fields",children:["Peso: ",Object(j.jsx)("span",{className:"bold",children:e.weight})]}),Object(j.jsxs)("span",{className:"detail_fields",children:["Color de ojos: ",Object(j.jsx)("span",{className:"bold",children:e.eyeColor})]}),Object(j.jsxs)("span",{className:"detail_fields",children:["Color  de pelo: ",Object(j.jsx)("span",{className:"bold",children:e.hairColor})]})]})})]}),Object(j.jsx)(I.a,{lg:5,md:5,sm:5,children:Object(j.jsx)(h.a.Img,{id:"imgHeroDetail",variant:"top",src:e.image})})]})})}function M(){var e=J().heroes,a=Object(f.g)(),t=e.find((function(e){return e.id===a.idHero}));return console.log(a.idHero),console.log(t),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(y.a,{className:"my-3",id:"detailContainer",children:Object(j.jsx)(D,{name:t.name,image:t.image.url,alias:t.biography.aliases[0],height:t.appearance.height[1],weight:t.appearance.weight[1],eyeColor:t.appearance["eye-color"],hairColor:t.appearance["hair-color"],workplace:t.work.base})}),Object(j.jsx)("div",{id:"buttonHome",children:Object(j.jsx)(p.a,{variant:"primary",bg:"primary",children:"Volver al home"})})]})}var V=t(68),R=t.n(V),U=t(120);function G(e){var a=Object(f.f)();function t(){return(t=Object(U.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.addHero(e.id);case 2:a.push("/");case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(j.jsxs)(h.a,{className:"card_search ".concat(e.alignment),style:{width:"19rem"},children:[Object(j.jsx)(h.a.Img,{className:"img_hero",variant:"top",src:e.image}),Object(j.jsxs)(h.a.Body,{className:"searchItem",children:[Object(j.jsx)(h.a.Title,{className:"m-0",children:Object(j.jsx)("h3",{children:e.name})}),Object(j.jsx)("div",{className:"containerHero p-0 m-0",children:Object(j.jsx)(p.a,{onClick:function(){return t.apply(this,arguments)},variant:"success",children:Object(j.jsx)("span",{className:"material-icons xs-25",children:"add"})})})]})]})}function K(e){var a=e.search,t=e.addHero;return Object(j.jsx)(w.a,{children:a.map((function(e){return Object(j.jsx)(I.a,{lg:4,md:6,sm:12,xs:12,className:"containerCard my-3",children:Object(j.jsx)(G,{id:e.id,addHero:t,name:e.name,image:e.image.url,alignment:e.biography.alignment})},e.id+1)}))})}var Q=t(121),W=t.n(Q);function X(){var e=J(),a=e.addHero,t=e.search,n=e.setSearch,c=Object(f.g)().name,r=Object(f.f)();return Object(s.useEffect)((function(){var e=new W.a.Agent({keepAlive:!0});O.a.get("https://www.superheroapi.com/api.php/10219509750322612/search/".concat(c),{httpsAgent:e}).then((function(e){"success"===e.data.response?n(e.data.results):n(e.data.response),console.log(e.data)})).catch((function(e){console.log(e),r.push("/")}))}),[c,r,n]),Object(j.jsxs)("div",{id:"heroListContainer",children:[Object(j.jsx)("h5",{id:"titleSearchContainer",children:"Sum\xe1 nuevos miembros"}),"error"!==t?Object(j.jsx)(K,{search:t,addHero:a}):Object(j.jsx)("p",{id:"notFound",children:"No se encontraron resultados \ud83e\udd37\u200d\u2642\ufe0f"})]})}function Y(){return Object(j.jsx)("p",{id:"footer",className:"p-2",children:Object(j.jsx)("a",{href:"https://www.linkedin.com/in/manuelgonzalezmourino/",target:"_blank",rel:"noopener noreferrer",children:"Developed by Manuel Gonzalez Mouri\xf1o"})})}t(268),t(269);var Z=function(){var e=Object(s.useState)(!1),a=Object(i.a)(e,2),t=a[0],n=a[1];console.log(t);var c=localStorage.getItem("hero_token");return Object(s.useEffect)((function(){null!==c&&n(!0)}),[c]),Object(j.jsx)(P,{children:Object(j.jsx)(S.a,{children:t?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_,{}),Object(j.jsxs)(f.c,{children:[Object(j.jsx)(f.a,{exact:!0,path:"/",component:F}),Object(j.jsx)(f.a,{exact:!0,path:"/detail/:idHero",component:M}),Object(j.jsx)(f.a,{exact:!0,path:"/search/:name",component:X})]}),Object(j.jsx)(Y,{})]}):Object(j.jsx)(x,{setLogged:n})})})};r.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(Z,{})}),document.getElementById("root"))}},[[270,1,2]]]);
//# sourceMappingURL=main.fb8fce70.chunk.js.map